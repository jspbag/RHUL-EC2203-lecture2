---
pagetitle: The simple linear regression model and the OLS estimator
output: 
  revealjs::revealjs_presentation:
    incremental: false
    theme: solarized
    self_contained: false
    # reveal_plugins: ["menu","notes","chalkboard"]
    reveal_plugins: ["menu"]
    highlight: pygments
    center: true
    transition: none
    background_transition: none 
    reveal_options:
      # chalkboard:
      #   theme: whiteboard
      #   toggleNotesButton: true
      #   toggleChalkboardButton: true
      menu:
        numbers: true
      slideNumber: true
      previewLinks: false
    fig_caption: true
    pandoc_args:
    - --indented-code-classes
    - lineNumbers
    css: mystyle.css
    
--- 

<section>

<h1>The simple linear regression model and the OLS estimator</h1>

Based on Stock and Watson, ch. 4

<br>

<h2>[Jesper Bagger](mailto:jesper.bagger@rhul.ac.uk)</h2>

<h3>EC2203 | Royal Holloway | 2020/21</h3>

</section>


```{r results='asis', echo=FALSE, include=FALSE}
library(AER) # include Applied Econometrics with R package; contains many datasets

data(CASchools) # Load CASchools data

# Generate a couple of useful variables

CASchools$STR <- CASchools$students/CASchools$teachers  # Student-teacher ratio
CASchools$Score <- (CASchools$read + CASchools$math)/2  # Student test score
```

# A simple linear regression model of test scores and student-teacher ratios


## The population regression function

- Suppose the relationship between $Score$ and $STR$ that holds, on average, in the population is a linear function

  <div class="box">
  $$\mathrm{E}(Score|STR) = \beta_0 + \beta_1 STR$$
  </div>

- $\mathrm{E}(Score|STR)$ is the **population regression function**

  - $\beta_0$ is the **intercept**
  
  - $\beta_1$ is the **slope parameter**

<!-- - The population regression function captures the relationship between $Score$ and $STR$ that holds, on average, in the population -->

## The population regression function

$$\mathrm{E}(Score|STR) = 695 - 2 STR$$
```{r echo=FALSE, error=FALSE, warning=FALSE}
# Define population regression function (of x) as f(x) = 695 - 2*x
popregfct <- function(x){695-2*x} 
# Plot a curve of popregfct 
curve(popregfct, 
      from = 5, to = 35, # Evaluate in x values from 5 to 35
      xlab = "Student-teacher ratio", # Label on x-axis
      ylab = "Test score", # Label on y-axis
      xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
      ylim = c(600, 720), # Range of y-axis (from 600 to 720)
      lwd = 3, # Set linewidth to 3
      col = "blue") # Make the plotted line blue
```

## Creating and plotting a function in R

```{r echo=TRUE, eval = FALSE, error=FALSE, warning=FALSE}
# Define population regression function (of x) as f(x) = 695 - 2*x
popregfct <- function(x){695-2*x} 
# Plot a curve of popregfct 
curve(popregfct, 
      from = 5, to = 35, # Evaluate in x values from 5 to 35
      xlab = "Student-teacher ratio", # Label on x-axis
      ylab = "Test score", # Label on y-axis
      xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
      ylim = c(600, 720), # Range of y-axis (from 600 to 720)
      lwd = 3, # Set linewidth to 3
      col = "blue") # Make the plotted line blue
```

## Errors

- Predictions using $\mathrm{E}(Score|STR)$ involve errors:

  <div class="box">
  $$u = Score - \mathrm{E}(Score|STR)$$
  </div>
  
- The error $u$ contains all the determinants of $Score$ that are not $STR$ (what might those be?)


## Errors

```{r echo=FALSE, error=FALSE, warning=FALSE}
# Plot a curve of popregfct 
curve(popregfct, 
      from = 5, to = 35, # Evaluate in x values from 5 to 35
      xlab = "Student-teacher ratio", # Label on x-axis
      ylab = "Test score", # Label on y-axis
      xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
      ylim = c(600, 720), # Range of y-axis (from 600 to 720)
      lwd = 3, # Set linewidth to 3
      col = "blue") # Make the plotted line blue
# Connect points (24,popregfct(24)) and (24,676.85) by an arrow
arrows(x0 = 24, y0 = popregfct(24), x1 = 24, y1 = 676.85, 
       code = 3, # Arrow head in both ends
       lwd = 3, # Set linewidth to 3
       col = "lightblue") # Make arrow lightblue
points(24,676.85, # Plot data-point (24,676.85)
       col = "blue") # Plot data-point in blue
# Connect points (15.25,popregfct(15.25)) and (15.25,635.45) by an arrow
arrows(x0 = 15.25, y0 = popregfct(15.25), x1 = 15.25, y1 = 635.45, 
       code = 3, # Arrow head in both ends
       lwd = 3, # Set linewidth to 3
       col = "lightblue") # Make arrow lightblue
points(15.25,635.45, # Plot data-point (15,635.45)
       col = "blue") # Plot data-point in blue
```

## Plot points and arrows in R

```{r echo=TRUE, eval = FALSE, error=FALSE, warning=FALSE}
# Plot a curve of popregfct 
curve(popregfct, 
      from = 5, to = 35, # Evaluate in x values from 5 to 35
      xlab = "Student-teacher ratio", # Label on x-axis
      ylab = "Test score", # Label on y-axis
      xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
      ylim = c(600, 720), # Range of y-axis (from 600 to 720)
      lwd = 3, # Set linewidth to 3
      col = "blue") # Make the plotted line blue
# Connect points (15.25,popregfct(15.25)) and (15.25,635.45) by an arrow
arrows(x0 = 15.25, y0 = popregfct(15.25), x1 = 15.25, y1 = 635.45, 
       code = 3, # Arrow head in both ends
       lwd = 3, # Set linewidth to 3
       col = "lightblue") # Make arrow lightblue
points(15.25,635.45, # Plot data-point (15,635.45)
       col = "blue") # Plot data-point in blue
```


<!-- ## Errors -->

<!-- ```{r echo=FALSE, error=FALSE, warning=FALSE, out.width = "70%"} -->
<!-- # Scatter plot of Score against STR -->
<!-- plot(CASchools$STR,CASchools$Score,  -->
<!--      col = "blue", # Color of data points -->
<!--      xlab = "Student-teacher ratio",  # Label on x-axis -->
<!--      ylab = "Test score",   # Label on y-axis -->
<!--      xlim = c(10, 30),  # Range of x-axis (from 10 to 30) -->
<!--      ylim = c(600, 720)) # Range of y-axis (from 600 to 720) -->
<!-- # Add line with intercept 713 and slope -3 to the plot  -->
<!-- abline(mean(CASchools$Score)+3*mean(CASchools$STR),-3, -->
<!--        col = "red", # Make the line red -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- points(24,676.85, # Re-plot data-point (24,676.85) -->
<!--        col = "blue", # Re-plot data-point in blue -->
<!--        lwd = 5) # ... but make line thicker -->
<!-- # Connect points (24,641) and (24,676.85) by a line -->
<!-- lines(x = c(24,24),y = c(641,676.85),  -->
<!--        col = "green", # Make the line green -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- points(15,635.45, # Re-plot data-point (15,635.45) -->
<!--        col = "blue", # Re-plot data-point in blue -->
<!--        lwd = 5) # ... but make line thicker -->
<!-- # Connect points (15,668) and (15,635.45) by a line -->
<!-- lines(x = c(15,15),y = c(668,635.45), -->
<!--        col = "green", # Make the line green -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- ``` -->

<!-- ## Highlighting and connecting points in an R plot -->

<!-- $$error = Score - (713 - 3 STR)$$ -->

<!-- ```{r echo=TRUE, eval = FALSE, error=FALSE, warning=FALSE, out.width = "70%"} -->
<!-- # Scatter plot of Score against STR -->
<!-- plot(CASchools$STR,CASchools$Score,  -->
<!--      col = "blue", # Color of data points -->
<!--      xlab = "Student-teacher ratio",  # Label on x-axis -->
<!--      ylab = "Test score",   # Label on y-axis -->
<!--      xlim = c(10, 30),  # Range of x-axis (from 10 to 30) -->
<!--      ylim = c(600, 720)) # Range of y-axis (from 600 to 720) -->
<!-- # Add line with intercept 713 and slope -3 to the plot  -->
<!-- abline(713,-3, -->
<!--        col = "red", # Make the line red -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- points(24,676.85, # Re-plot data-point (24,676.85) -->
<!--        col = "blue", # Re-plot data-point in blue -->
<!--        lwd = 5) # ... but make line thicker -->
<!-- # Connect points (24,641) and (24,676.85) by a line -->
<!-- lines(x = c(24,24),y = c(641,676.85),  -->
<!--        col = "green", # Make the line green -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- points(15,635.45, # Re-plot data-point (15,635.45) -->
<!--        col = "blue", # Re-plot data-point in blue -->
<!--        lwd = 5) # ... but make line thicker -->
<!-- # Connect points (15,668) and (15,635.45) by a line -->
<!-- lines(x = c(15,15),y = c(668,635.45), -->
<!--        col = "green", # Make the line green -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- ``` -->

## A simple linear regression model

<div class="box">
$$Score = \underset{\mathrm{E}(Score|STR)}{\underbrace{\beta_0 + \beta_1 STR}} + u$$
</div>

- $Score$ is the **dependent variable** 

- $STR$ is the **regressor** 

- $u$ is the **error term**

- Problem: $\beta_0$ and $\beta_1$ are **unknown**









<!-- ## "Best" line? -->

<!-- $$\mathrm{E}(Score|STR) = 654$$ -->

<!-- ```{r echo=FALSE, error=FALSE, warning=FALSE, out.width = "70%"} -->
<!-- # Scatter plot of Score against STR -->
<!-- plot(CASchools$STR,CASchools$Score,  -->
<!--      col = "blue", # Color of data points -->
<!--      xlab = "Student-teacher ratio",  # Label on x-axis -->
<!--      ylab = "Test score",   # Label on y-axis -->
<!--      xlim = c(10, 30),  # Range of x-axis (from 10 to 30) -->
<!--      ylim = c(600, 720)) # Range of y-axis (from 600 to 720) -->
<!-- # Add line with intercept 713 and slope -3 to the plot  -->
<!-- abline(mean(CASchools$Score)+3*mean(CASchools$STR),-3, -->
<!--        col = "red", # Make the line red -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- # Add line with intercept 595 and slope 3 to the plot  -->
<!-- abline(mean(CASchools$Score)-3*mean(CASchools$STR),3, -->
<!--        col = "green", # Make the line green -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- # Add line with intercept 654 and slope 0 to the plot  -->
<!-- abline(mean(CASchools$Score)-0*mean(CASchools$STR),0, -->
<!--        col = "orange", # Make the line green -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- ``` -->

<!-- # The simple linear regression model -->

<!-- ## The simple linear regression model -->

<!-- - Let $Y$ be the random variable we want to model as a function of another random variable $X$; suppose -->

<!--   $$\mathrm{E}(Y|X) = \beta_0 + \beta_1 X$$ -->

<!-- - Let $u \equiv Y - \mathrm{E}(Y|X)$ be the error made when predicting $Y$ by its conditional mean -->

<!--   <div class="box"> -->
<!--   $$Y = \beta_0 + \beta_1 X + u$$ -->
<!--   </div> -->

<!-- - $u$ contains **everything** that determines $Y$ that is **not** $X$ -->


<!-- ## Linear regression terminology -->

<!-- <div class="box"> -->
<!-- $$Y = \beta_0 + \beta_1 X + u$$ -->
<!-- </div> -->

<!-- - $Y$ is the **dependent variable**; $X$ is the **regressor**; $u$ is the **error term** -->

<!-- - $\mathrm{E}(Y|X) = \beta_0 + \beta_1 X$ is the **population regression function**, involving **population parameters** $\beta_0$ and $\beta_1$ -->

<!--   - $\beta_0$ is the **intercept** -->

<!--   - $\beta_1$ is the **slope parameter** -->

<!-- - The population parameters $\beta_0$ and $\beta_1$ are **unknown** -->
  
# The Ordinary Least Squares (OLS) estimator

## The estimation problem

- Estimation: learn about $\beta_0$ and $\beta_1$ from **random sample** of data from the population; data is

  <div class="box">
  $$(Score_i,STR_i; i=1,...,n)$$
  </div>

- Each data point follows the population regression

  <div class="box">
  $$Score_i = \beta_0 + \beta_1 STR_i + u_i$$
  </div>
  
## Test scores and student-teacher ratio data

```{r echo=FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
```

## Adding a line to a plot in R

```{r echo=TRUE, eval=FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
```

  
## Sample regression function

- We refer to the **OLS estimators** of $\beta_0$ and $\beta_1$ as $\hat{\beta}_0$ and $\hat{\beta}_1$ 

  An estimator is a rule that tells you how to compute estimates from a sample: estimates are known quantities.

- The **sample regression function** obtains by replacing $\beta_0$ and $\beta_1$ by $\hat{\beta}_0$ and $\hat{\beta}_1$ in the population regression function 

  <div class="box">
  $$\hat{\beta}_0 + \hat{\beta}_1 STR$$ 
  </div>



## "Best" line through the data?

Sample regression function $= 713 - 3 STR$
```{r echo=FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
# Add line with intercept 713 and slope -3 to the plot 
abline(mean(CASchools$Score)+3*mean(CASchools$STR),-3,
       col = "red", # Make the line red
       lwd = 3) # Set linewidth to 3
```


## "Best" line through the data?

Sample regression function $= 595 + 3 STR$
```{r echo=FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
# Add line with intercept 713 and slope -3 to the plot 
abline(mean(CASchools$Score)+3*mean(CASchools$STR),-3,
       col = "red", # Make the line red
       lwd = 3) # Set linewidth to 3
# Add line with intercept 595 and slope 3 to the plot 
abline(mean(CASchools$Score)-3*mean(CASchools$STR),3,
       col = "green", # Make the line green
       lwd = 3) # Set linewidth to 3
```


## Fitted values

<div class="box">
$$\hat{Score}_i = \hat{\beta}_0 + \hat{\beta}_1 STR_i; \quad i=1,\ldots,n$$
</div>

- $\hat{Score}_i$ is the sample counterpart to $\mathrm{E}(Score_i|STR_i)$

## Fitted values

$$\hat{Score}_i = 713 - 3 STR_i$$
```{r echo=FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
# Add line with intercept 713 and slope -3 to the plot 
abline(mean(CASchools$Score)+3*mean(CASchools$STR),-3,
       col = "red", # Make the line red
       lwd = 3) # Set linewidth to 3
# Add fitted values to the plot
points(CASchools$STR,713 - 3*CASchools$STR,
       col = "red") # Make the fitted values red
```


<!-- ## Predictions -->

<!-- $$\mathrm{E}(Score|STR) = 713 - 3 STR$$ -->

<!-- ```{r echo=FALSE, error=FALSE, warning=FALSE, out.width = "70%"} -->
<!-- # Scatter plot of Score against STR -->
<!-- plot(CASchools$STR,CASchools$Score,  -->
<!--      col = "blue", # Color of data points -->
<!--      xlab = "Student-teacher ratio",  # Label on x-axis -->
<!--      ylab = "Test score",   # Label on y-axis -->
<!--      xlim = c(10, 30),  # Range of x-axis (from 10 to 30) -->
<!--      ylim = c(600, 720)) # Range of y-axis (from 600 to 720) -->
<!-- abline(mean(CASchools$Score)+3*mean(CASchools$STR),-3, -->
<!--        col = "red", -->
<!--        lwd = 3) -->

<!-- ``` -->

<!-- ## Adding a line to a plot in R -->

<!-- $$\mathrm{E}(Score|STR) = 713 - 3 STR$$ -->

<!-- ```{r echo=TRUE, eval=FALSE, error=FALSE, warning=FALSE, out.width = "70%"} -->
<!-- # Scatter plot of Score against STR -->
<!-- plot(CASchools$STR,CASchools$Score,  -->
<!--      col = "blue", # Color of data points -->
<!--      xlab = "Student-teacher ratio",  # Label on x-axis -->
<!--      ylab = "Test score",   # Label on y-axis -->
<!--      xlim = c(10, 30),  # Range of x-axis (from 10 to 30) -->
<!--      ylim = c(600, 720)) # Range of y-axis (from 600 to 720) -->
<!-- # Add line with intercept 713 and slope -3 to the plot  -->
<!-- abline(713,-3, -->
<!--        col = "red", # Make the line red -->
<!--        lwd = 3) # Set linewidth to 3 -->
<!-- ``` -->



## Residuals

<div class="box">
$$\hat{u}_i = Y_i - \hat{Y}_i; \quad i=1,\ldots,n$$
</div>

- $\hat{u}_i$ is the sample counterpart to the error $u_i$

## Residuals

$$\hat{u}_i = Score_i - (713 - 3 STR_i)$$
```{r echo=FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
# Add line with intercept 713 and slope -3 to the plot 
abline(mean(CASchools$Score)+3*mean(CASchools$STR),-3,
       col = "red", # Make the line red
       lwd = 3) # Set linewidth to 3
# Add fitted values to the plot
points(CASchools$STR,713 - 3*CASchools$STR,
       col = "red") # Make the fitted values red
# Connect points (24,popregfct(24)) and (24,676.85) by an arrow
arrows(x0 = 24, y0 = 713 - 3*24, x1 = 24, y1 = 676.85, 
       code = 3, # Arrow head in both ends
       lwd = 3, # Set linewidth to 3
       col = "pink") # Make arrow green
# Connect points (15,popregfct(15)) and (15,635.45) by an arrow
arrows(x0 = 15.25, y0 = 713 - 3*15.25, x1 = 15.25, y1 = 635.45, 
       code = 3, # Arrow head in both ends
       lwd = 3, # Set linewidth to 3
       col = "pink") # Make arrow green
```


## The OLS estimator

- The OLS estimator finds regression coefficients that puts the fitted regression line as **close to** the data as possible;

- The distance between the regression line and the data is measured by the **sum of squared residuals**; 

- Formally, the **OLS estimators** $\hat{\beta}_0$ and $\hat{\beta}_1$ solve

  <div class="box">
  $$\min_{\hat{\beta}_0,\hat{\beta}_1} \sum_{i=1}^n \hat{u}_i^2$$
  </div>

## OLS estimators of $\beta_0$ and $\beta_0$

<br>
<div class="centerbox">
$$\hat{\beta}_1 = \frac{\sum_{i=1}^n (STR_i-\overline{STR})(Score_i-\overline{Score})}{\sum_{i=1}^n (STR_i-\overline{STR})^2}$$ 
<br>
$$\hat{\beta}_0 = \overline{Score} - \hat{\beta}_1 \overline{STR}$$
</div>

# Implementing the OLS estimator in R

## OLS estimates

```{r, echo=TRUE, eval=TRUE, error=FALSE, warning=FALSE}
# Estimate b0,b1 in Score = b0 + b1 STR + u by OLS; 
# then assign output to lm1
lm1 <- lm(Score ~ STR, data = CASchools) 
lm1 # Print output to console
```

## Scatter plot with sample regression function
OLS sample regression function $=698.93 -2.28 STR$
```{r echo=FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
# Add sample regression function to the plot
abline(lm1,
       col = "red", # Make the line red
       lwd = 3) # Set linewidth to 3
```

## Adding sample regression function to plot in R

```{r echo=TRUE, eval = FALSE, error=FALSE, warning=FALSE}
# Scatter plot of Score against STR
plot(CASchools$STR,CASchools$Score, 
     col = "blue", # Color of data points
     xlab = "Student-teacher ratio",  # Label on x-axis
     ylab = "Test score",   # Label on y-axis
     xlim = c(10, 30),  # Range of x-axis (from 10 to 30)
     ylim = c(600, 720)) # Range of y-axis (from 600 to 720)
# Add line with intercept 695 and slope -2 to the plot 
abline(695,-2, 
       col = "gray", # Make the line gray
       lwd = 3) # Set linewidth to 3
# Add sample regression function to the plot
abline(lm1,
       col = "red", # Make the line red
       lwd = 3) # Set linewidth to 3
```

# Summary

- The simple regression model relates the dependent variable $Score$ to a regressor $STR$ and an error term $u$

- The error term $u$ contains all the determinants of $Score$ that are not $STR$

- The OLS estimators picks out the "best line" in a scatter by minimizing the sum of squared residuals, $\sum_{i=1}^n \hat{u}_i^2$.

- The OLS estimator $\hat{\beta}_1$ of the coefficient on $STR$ is the sample covariance between $Score$ and $STR$ divided by the sample variance of $STR$

